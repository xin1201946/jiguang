<template>
  <div>
    <div v-if="power > 20">
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" :width="width"
        :height="height">
        <!-- <path
          d="M144.700101 684.994006l535.580045 0L680.280146 359.237781 144.700101 359.237781 144.700101 684.994006 144.700101 684.994006zM918.373823 440.680675l0-81.442894c0-44.791136-36.649711-81.437777-81.437777-81.437777l-692.235944 0c-44.791136 0-81.437777 36.646642-81.437777 81.437777L63.262324 684.994006c0 44.791136 36.646642 81.442894 81.437777 81.442894l692.235944 0c44.788066 0 81.437777-36.650735 81.437777-81.442894l0-81.437777c22.396079 0 40.7194-18.322297 40.7194-40.7194l0-81.436754C959.093223 459.003995 940.769902 440.680675 918.373823 440.680675L918.373823 440.680675zM877.655446 481.400075l0 81.436754L877.655446 684.994006c0 22.395056-18.323321 40.718377-40.7194 40.718377l-692.235944 0c-22.396079 0-40.7194-18.323321-40.7194-40.718377L103.980701 359.237781c0-22.396079 18.323321-40.7194 40.7194-40.7194l692.235944 0c22.396079 0 40.7194 18.323321 40.7194 40.7194L877.655446 481.400075 877.655446 481.400075zM877.655446 481.400075"
          fill="#272636"> -->
        <path
          d="M 918.37382,440.68067 V 359.23778 C 918.37382,314.44665 881.72411,277.8 836.93605,277.8 H 144.7001 c -44.791134,0 -81.437775,36.64665 -81.437775,81.43778 l -10e-7,325.75623 c 0,44.79113 36.646642,81.44289 81.437776,81.44289 h 692.23595 c 44.78806,0 81.43777,-36.65074 81.43777,-81.44289 v -81.43778 c 22.39608,0 40.7194,-18.3223 40.7194,-40.7194 v -81.43675 c 0,-22.39609 -18.32332,-40.71941 -40.7194,-40.71941 z m -40.71837,40.71941 v 81.43675 122.15718 c 0,22.39505 -18.32332,40.71837 -40.7194,40.71837 H 144.7001 c -22.39608,0 -40.7194,-18.32332 -40.7194,-40.71837 l 0,-325.75623 c 0,-22.39608 18.32332,-40.7194 40.7194,-40.7194 h 692.23595 c 22.39607,0 40.71939,18.32332 40.71939,40.7194 z"
          fill="#272636" p-id="4296" id="path2" sodipodi:nodetypes="csssssssscsscccssssssssc"></path>
        <rect id="rect323" style="fill:#272636;stroke-width:0" width="733.20087" height="369.91806" x="122.7531"
          y="336.74161" />
        <!--      文字-->
        <text class='text' x="40%" y="65%" text-anchor="middle" fill="#c1c1c1" font-size="400">{{ power }}</text>
        <!-- <text class='text' x="40%" y="65%" text-anchor="middle" fill="#fff" font-size="400">{{ power }}</text> -->
      </svg>
    </div>
    <div v-else>
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" :width="width"
        :height="height">
        <!-- <path
          d="M144.700101 684.994006l535.580045 0L680.280146 359.237781 144.700101 359.237781 144.700101 684.994006 144.700101 684.994006zM918.373823 440.680675l0-81.442894c0-44.791136-36.649711-81.437777-81.437777-81.437777l-692.235944 0c-44.791136 0-81.437777 36.646642-81.437777 81.437777L63.262324 684.994006c0 44.791136 36.646642 81.442894 81.437777 81.442894l692.235944 0c44.788066 0 81.437777-36.650735 81.437777-81.442894l0-81.437777c22.396079 0 40.7194-18.322297 40.7194-40.7194l0-81.436754C959.093223 459.003995 940.769902 440.680675 918.373823 440.680675L918.373823 440.680675zM877.655446 481.400075l0 81.436754L877.655446 684.994006c0 22.395056-18.323321 40.718377-40.7194 40.718377l-692.235944 0c-22.396079 0-40.7194-18.323321-40.7194-40.718377L103.980701 359.237781c0-22.396079 18.323321-40.7194 40.7194-40.7194l692.235944 0c22.396079 0 40.7194 18.323321 40.7194 40.7194L877.655446 481.400075 877.655446 481.400075zM877.655446 481.400075"
          fill="#ed4630">
        </path> -->
        <path
          d="M 918.37382,440.68067 V 359.23778 C 918.37382,314.44665 881.72411,277.8 836.93605,277.8 H 144.7001 c -44.791134,0 -81.437775,36.64665 -81.437775,81.43778 l -10e-7,325.75623 c 0,44.79113 36.646642,81.44289 81.437776,81.44289 h 692.23595 c 44.78806,0 81.43777,-36.65074 81.43777,-81.44289 v -81.43778 c 22.39608,0 40.7194,-18.3223 40.7194,-40.7194 v -81.43675 c 0,-22.39609 -18.32332,-40.71941 -40.7194,-40.71941 z m -40.71837,40.71941 v 81.43675 122.15718 c 0,22.39505 -18.32332,40.71837 -40.7194,40.71837 H 144.7001 c -22.39608,0 -40.7194,-18.32332 -40.7194,-40.71837 l 0,-325.75623 c 0,-22.39608 18.32332,-40.7194 40.7194,-40.7194 h 692.23595 c 22.39607,0 40.71939,18.32332 40.71939,40.7194 z"
          fill="#ed4630" p-id="4296" id="path2" sodipodi:nodetypes="csssssssscsscccssssssssc"></path>
        <rect id="rect323" style="fill:#ed4630;stroke-width:0" width="733.20087" height="369.91806" x="122.7531"
          y="336.74161" />
        <!--      文字-->
        <text class='text' x="40%" y="65%" text-anchor="middle" fill="red" font-size="400">{{ power }}</text>
      </svg>
    </div>
  </div>

</template>

<script>
export default {
  name: 'electricitylevel', //电量
  props: {
    // electric:'68'
    power: {
      type: String,
      default: ''
    },
    width: {
      type: String,
      default: '32'
    },
    height: {
      type: String,
      default: '32'
    }
  },
  data() {
    return {
      // power: 50 // 假设这是从props或其他地方获取的电量值
    }
  },
  mounted() {
    this.updateBatteryBackground()
  },
  watch: {
    power(newValue) {
      this.updateBatteryBackground()
    }
  },
  methods: {
    updateBatteryBackground() {
      // console.log(this.power,'2222----');
      const batteryBackground = this.$el.querySelector('#rect323')
      const maxwidth = 800 // 矩形背景的最大 
      const percentwidth = (Number(this.power) / 100) * maxwidth // 根据电量计算
      console.log(percentwidth);
      // 更新矩形背景的高度  
      batteryBackground.setAttribute('width', percentwidth)
    }
  }
}
</script>

<style scoped>
.text {
  //transform: translate(-50%, -50%);
}
</style>